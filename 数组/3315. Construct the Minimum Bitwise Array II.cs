//Leetcode 3315. Construct the Minimum Bitwise Array II med
//é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªç”± ğ‘› n ä¸ªè´¨æ•°ç»„æˆçš„æ•°ç»„ numsï¼Œéœ€è¦æ„é€ ä¸€ä¸ªé•¿åº¦ä¸º ğ‘› n çš„æ•°ç»„ ansã€‚
//å¯¹äºæ¯ä¸ªç´¢å¼• iï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š ans[i]OR(ans[i]+1)=nums[i] ä¹Ÿå°±æ˜¯è¯´ï¼Œ
//ans[i] ä¸ ans[i] + 1 çš„æŒ‰ä½æˆ–æ“ä½œç»“æœå¿…é¡»ç­‰äº nums[i]ã€‚ 
//æ­¤å¤–ï¼Œè¿˜éœ€è¦å°½é‡æœ€å°åŒ– ans[i] çš„å€¼ã€‚å¦‚æœæ— æ³•æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å€¼ï¼Œåˆ™å°† ans[i] è®¾ç½®ä¸º -1ã€‚
//æ€è·¯ï¼šçœ‹codeï¼Œé€šè¿‡ä½è¿ç®—æ£€æŸ¥ num çš„æœ€ä½ä½æ˜¯å¦ä¸º 0ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ— æ³•æ„é€ æ»¡è¶³æ¡ä»¶çš„ ans[i]ï¼Œç›´æ¥å°† res[i] è®¾ç½®ä¸º -1ã€‚
//æ—¶é—´å¤æ‚åº¦ï¼šO(n) n æ˜¯ nums çš„é•¿åº¦
//ç©ºé—´å¤æ‚åº¦ï¼šO(n) n æ˜¯ nums çš„é•¿åº¦
        public int[] MinBitwiseArray_1(IList<int> nums)
        {
            int[] res = new int[nums.Count];

            for (int i = 0; i < nums.Count; i++)
            {
                int num = nums[i];
                //é€šè¿‡ä½è¿ç®—æ£€æŸ¥ num çš„æœ€ä½ä½æ˜¯å¦ä¸º 0ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ— æ³•æ„é€ æ»¡è¶³æ¡ä»¶çš„ ans[i]ï¼Œç›´æ¥å°† res[i] è®¾ç½®ä¸º -1ã€‚
                if ((num & 1) == 0)
                {
                    res[i] = -1;
                    continue;
                }
                //ä» 31 åˆ° 0 çš„å¾ªç¯æ˜¯å› ä¸ºä»£ç å¤„ç†çš„æ˜¯ 32 ä½æ•´æ•°
                for (int j = 31; j >= 0; j--)
                {
                    /*1. ä½ç§»æ“ä½œï¼šint shift = 1 << j;
                    è¿™è¡Œä»£ç è®¡ç®— 2^jï¼Œå³äºŒè¿›åˆ¶ä¸­ 1 å‘å·¦ç§»åŠ¨ j ä½ã€‚ä¾‹å¦‚ï¼š
                    å½“ j = 0 æ—¶ï¼Œshift = 1 << 0ï¼Œç»“æœæ˜¯ 1ï¼ˆå³ 0001ï¼‰ã€‚
                    å½“ j = 1 æ—¶ï¼Œshift = 1 << 1ï¼Œç»“æœæ˜¯ 2ï¼ˆå³ 0010ï¼‰ã€‚
                    å½“ j = 2 æ—¶ï¼Œshift = 1 << 2ï¼Œç»“æœæ˜¯ 4ï¼ˆå³ 0100ï¼‰ã€‚*/
                    int shift = 1 << j;
                    //å¦‚æœ shift çš„å€¼å¤§äº numï¼Œåˆ™è¡¨ç¤ºå½“å‰ä½æ•°å¯¹äºæ„é€  temp æ¥è¯´æ˜¯æ— æ•ˆçš„
                    //ä¾‹å¦‚ï¼Œå¦‚æœ num æ˜¯ 10ï¼ˆå³ 1010ï¼‰ï¼Œè€Œ shift æ˜¯ 16ï¼ˆå³ 10000ï¼‰ï¼Œåˆ™è·³è¿‡è¿™ä¸ªå¾ªç¯ã€‚
                    if (shift > num) continue;

                    //temp ä»£è¡¨äº†æˆ‘ä»¬æƒ³è¦çš„ ans[i] çš„å€¼ã€‚
                    int temp = num - shift;
                    //æŒ‰ä½æˆ–çš„ç‰¹æ€§ï¼šå¦‚æœåœ¨ temp çš„æŸä¸€ä½ä¸Šä¸º 0ï¼Œåˆ™åœ¨ temp + 1 çš„è¿™ä¸€ä½ä¸Šä¸€å®šä¼šä¸º 1ï¼Œè¿™æ ·å°±èƒ½ç¡®ä¿è¿™ä¸€ä½åœ¨æœ€ç»ˆç»“æœä¸­è¢«è®¾ç½®ä¸º 1ã€‚
                    int or = temp | (temp + 1);

                    if (or != num) continue;

                    res[i] = temp;
                    break;
                }
            }

            return res;
        }